*{
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  width: 100%;
  height: 100%;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(#05131d 10%, #081d2c 60%);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: #fff;
  overflow: hidden;
}

.magic-8-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  transform: scale(0.5);
}

.hint {
  font-size: 0.8rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: #9db4cc;
  opacity: 0.85;
}

.magic-8-ball {
  position: relative;
  width: 320px;
  height: 320px;
  border-radius: 50%;
  cursor: pointer;
  overflow: hidden;
  transform-origin: center;
  background:
    radial-gradient(circle at 30% 20%, #222 0, #000 35%),
    radial-gradient(circle at 70% 80%, #111 0, #000 50%);
  box-shadow:
    inset 18px 16px 32px rgba(0,0,0,0.9),
    inset -20px -24px 40px rgba(0,0,0,1),
    inset 0 -10px 30px rgba(255,255,255,0.2),
    0 24px 40px rgba(0,0,0,0.9);
}

/* Big highlight blob on ball */
.magic-8-ball::before {
  content: "";
  position: absolute;
  top: 18%;
  left: 18%;
  width: 80px;
  height: 35px;
  background: radial-gradient(circle, rgba(255,255,255,0.7), rgba(255,255,255,0));
  border-radius: 50%;
  transform: rotate(-35deg);
  filter: blur(2px);
  opacity: 0.75;
  pointer-events: none;
}

/* Shake animation */
.magic-8-ball.shake {
  animation: shake 0.7s linear;
}

@keyframes shake {
  0%, 100% { transform: translate3d(0,0,0); }
  10%      { transform: translate3d(8px, 0, 0); }
  20%      { transform: translate3d(-8px, 0, 0); }
  30%      { transform: translate3d(8px, 0, 0); }
  40%      { transform: translate3d(-8px, 0, 0); }
  50%      { transform: translate3d(6px, 0, 0); }
  60%      { transform: translate3d(-6px, 0, 0); }
  70%      { transform: translate3d(4px, 0, 0); }
  80%      { transform: translate3d(-4px, 0, 0); }
  90%      { transform: translate3d(2px, 0, 0); }
}

/* Center ring around window */
.center-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 150px;
  height: 150px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  border: 4px solid rgba(0,0,0,1);
  border-bottom-color: rgba(40,40,40,0.6);
  box-shadow:
    0 0 4px 2px #000 inset,
    0 2px 4px rgba(255,255,255,0.3);
  z-index: 3;
}

/* Liquid circle behind triangle */
.liquid {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 150px;
  height: 150px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: radial-gradient(circle,
    #161f7e 0%,
    #0e0b5e 40%,
    #00052f 100%);
  opacity: 0.9;
  overflow: hidden;
  z-index: 1;
}

.bubble {
  position: absolute;
  bottom: -20px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: radial-gradient(circle at 20% 30%,
    #fff 0,
    #fff 4%,
    rgba(10,0,150,0.85) 5%,
    rgba(10,0,150,0.85) 100%);
  border: 1px solid rgba(51,0,173,0.8);
  opacity: 0;
  animation-name: bubble-rise;
  animation-timing-function: ease-out;
  animation-iteration-count: infinite;
}

@keyframes bubble-rise {
  0%   { opacity: 0; transform: translate3d(0, 0, 0); }
  15%  { opacity: 1; transform: translate3d(0, -25px, 0); }
  100% { opacity: 0; transform: translate3d(0, -140px, 0); }
}

/* Triangle with fortune text */
.fortune-triangle {
  position: absolute;
  top: 43%;
  left: 50%;
  width: 105px;
  height: 105px;
  transform: translate(-50%, -45%);
  clip-path: polygon(50% 20%, 0% 100%, 100% 100%);
  background: radial-gradient(circle at 50% 70%,
    #001fff 0%,
    #0600a8 40%,
    #000b6e 100%);
  filter: drop-shadow(0 0 10px #0016ff);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding-bottom: 8px;
  opacity: 0;
  z-index: 2;
}

.fortune-text {
  color: #fff;
  text-align: center;
  font-size: 0.7rem;
  line-height: 1.2;
  text-shadow: 0 0 5px #fc03f0;
  padding: 0 8px;
}

.magic-8-ball.show-fortune .fortune-triangle {
  animation: fortune-fade 3s ease-out forwards;
}

@keyframes fortune-fade {
  0%   { opacity: 0; }
  40%  { opacity: 0; }
  100% { opacity: 1; }
}

/* White “8” badge */
.white-eight {
  position: absolute;
  top: 24%;
  left: 50%;
  width: 160px;
  height: 160px;
  transform: translateX(-50%);
  background: #f5efdf;
  border-radius: 50%;
  border: 4px solid #fff;
  box-shadow:
    0 0 6px rgba(0,0,0,0.8),
    inset 0 -3px 5px rgba(0,0,0,0.25);
  z-index: 4;
}

.eight-number {
  position: absolute;
  top: 37%;
  left: 50%;
  transform: translateX(-50%);
  width: 72px;
  height: 72px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #222;
  font-weight: 700;
  font-size: 5rem;
  z-index: 5;
  text-transform: none;
}

.magic-8-ball.show-fortune .white-eight,
.magic-8-ball.show-fortune .eight-number {
  opacity: 0;
  transition: opacity 0.25s ease;
}

.magic-8-ball:not(.show-fortune) .white-eight,
.magic-8-ball:not(.show-fortune) .eight-number {
  opacity: 1;
  transition: opacity 0.25s ease;
}

/* Floor shadow */
.shadow {
  position: absolute;
  top: calc(50% + 185px);
  left: 50%;
  transform: translateX(-50%);
  width: 260px;
  height: 70px;
  border-radius: 50%;
  background: radial-gradient(#000 5%, #444 30%, transparent 70%);
  opacity: 0.85;
  z-index: -1;
  filter: blur(2px);
}
